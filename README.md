# badfiles

Простой сервис обмена файлами, созданный на PHP 8 и Tailwind CSS.

## Особенности

- Загрузка файлов до 150 МБ
- Короткие уникальные ссылки (5 символов) для каждого файла
- Дизайн в стиле Apple/macOS/iOS с темной темой
- Не требуется база данных, работает только с файловой системой
- Поддержка перетаскивания файлов
- Прогресс-бар во время загрузки
- Копирование ссылки в буфер обмена
- Обработка ошибок и страница с ошибкой 404
- Полностью русскоязычный интерфейс

## Требования

- PHP 8.0 или выше
- Веб-сервер (Apache, Nginx и т.д.)
- Права на запись для директории `uploads`

## Структура проекта

```
/
├── index.php         # Главная страница с формой загрузки
├── upload.php        # Обработка загрузки файлов
├── download.php      # Скачивание файлов по ID
├── 404.php           # Страница с ошибкой 404
├── .htaccess         # Конфигурация Apache
├── includes/
│   ├── config.php    # Настройки приложения
│   ├── functions.php # Вспомогательные функции
│   └── template.php  # Общий шаблон страниц
└── uploads/          # Директория для загруженных файлов
```

## Установка

1. Загрузите все файлы на ваш веб-сервер
2. Убедитесь, что сервер имеет права на запись в директорию `uploads`:
   ```
   chmod 755 uploads
   ```
3. Настройте веб-сервер для корректной работы с URL

### Конфигурация Apache (.htaccess)

Уже включена в проект:

```
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-z]{5})$ download.php?id=$1 [QSA,L]
```

### Конфигурация Nginx

```
location / {
    try_files $uri $uri/ /index.php?$query_string;
}

location ~ ^/([a-z]{5})$ {
    try_files $uri $uri/ /download.php?id=$1;
}
```

## Настройка

Вы можете изменять константы в `includes/config.php`:

- `SITE_NAME`: Название сайта (по умолчанию: "файлообмен")
- `UPLOAD_DIR`: Директория для загрузки файлов (по умолчанию: `uploads/`)
- `MAX_FILE_SIZE`: Максимальный размер файла в байтах (по умолчанию: 150 МБ)
- `LINK_LENGTH`: Длина генерируемых уникальных ссылок (по умолчанию: 5)

## Безопасность

- Это базовая реализация без расширенных функций безопасности
- Для использования в продакшне рекомендуется добавить:
  - Ограничение скорости запросов
  - Защита от CSRF
  - Сканирование файлов на вредоносный код
  - Аутентификация для защищенных файлов

## Лицензия

MIT 